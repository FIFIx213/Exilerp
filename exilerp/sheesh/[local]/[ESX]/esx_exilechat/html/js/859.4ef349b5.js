"use strict";(self["webpackChunkcss_modmenu"]=self["webpackChunkcss_modmenu"]||[]).push([[859],{1859:(t,s,i)=>{i.r(s),i.d(s,{default:()=>g});var e=i(9835),a=i(6970);const o=(0,e._)("div",{id:"ikona"},null,-1),n={id:"hudText"},r=(0,e._)("img",{src:"https://exilerp.eu/img/logo.png",id:"logoHud"},null,-1);function d(t,s,i,d,h,l){const u=(0,e.up)("notification-box"),c=(0,e.up)("q-page-container"),p=(0,e.up)("q-layout");return(0,e.wg)(),(0,e.j4)(p,{view:"lHh Lpr lFf"},{default:(0,e.w5)((()=>[(0,e.Wm)(c,null,{default:(0,e.w5)((()=>[(0,e.Wm)(u),o,(0,e._)("div",n,[(0,e.Uk)((0,a.zw)(t.date)+" | "+(0,a.zw)(t.id)+" | ",1),r])])),_:1})])),_:1})}i(8964);const h={name:"App",components:{},data:function(){return{index:0,toasts:[],maxOpened:6,activeReports:[],animWait:!1,date:"",id:"",progress:!1}},setup(){return{messageListener:null}},mounted(){var t=this;setInterval((()=>{const s=new Date;t.date=s.toLocaleString().replace(",","")}),1e3),this.messageListener=window.addEventListener("message",(t=>{const s=t.data;if("add_report"==s.type)this.addReport(s.data);else if("show_icon"==s.type){const t=s.timeout;this.showIcon(s.icon,s.animate),0!=t&&void 0!=t&&setTimeout((()=>{this.hideIcon()}),t)}else"hide_icon"==s.type?this.hideIcon():"set_id"==s.type?this.id="ID: "+s.id:"showProgress"==s.type?this.triggerOngoing(s.icon,s.position,s.message,s.caption,s.color,s.timeout,s.showProgress):"stopProgress"==s.type&&this.progress&&(this.progress(),this.progress=!1)}))},methods:{triggerOngoing(t,s,i,e,a,o,n){if(!this.progress){var r=o;if(this.progress=this.$q.notify({group:!1,icon:t,progress:!0,timeout:0,position:s,message:i,caption:e,color:a}),this.progress({timeout:1e3*r}),n)var d=this,h=setInterval((()=>{d.progress?(r--,d.progress({caption:"Pozosta≈Ço: "+r+" sekund"}),0==r&&d.progress()):clearInterval(h)}),1e3)}},addReport(t){this.createToast(t.reason,"shot","["+t.id+"] "+t.name)},addNoti(t,s,i){this.createToast(i,s,t)},showIcon(t,s){this.animWait||(this.animWait=!0,this.$jquery("#ikona").html(`<i id="ikonka" class="${t}"></i>`),s&&this.$jquery("#ikonka").addClass("krecsiejakniki"),this.$jquery("#ikona").animate({left:"0%"},2e3))},hideIcon(){var t=this;this.animWait&&this.$jquery("#ikona").animate({left:"-10%"},2e3,(function(){t.animWait=!1,t.$jquery("#ikonka").removeClass("krecsiejakniki")}))},findToast(t){for(var s=0;s<this.toasts.length;s++)if(this.toasts[s].id==t)return this.toasts[s]},remove(t){var s=this.findToast(t);if(s){this.$jquery("#toast-"+t).addClass("toast-leave");var i=this;setTimeout((function(){i.$jquery("#toast-"+t).css("display","none"),i.$jquery("#toast-"+t).remove()}),900);var e=this.toasts.indexOf(s);this.toasts.splice(e,1)}},createToast(t,s,i){switch(s){case"tweet":this.sendnotify(t,s,i);break;case"shot":this.sendnotify(t,s,i);break;case"injury":this.sendnotify(t,s,i);break;case"alarm":this.sendnotify(t,s,i);break;case"drugs":this.sendnotify(t,s,i);break;case"kaseta":this.sendnotify(t,s,i);break;default:this.sendnotify(t,s,i);break}},sendnotify(t,s,i){var e={};e.id=this.index++,e.code='<div id="toast-'+e.id+'" class="toast"><div id="toast-title-'+e.id+'" class="toast-title"><i class="fas fa-bell"></i> '+i+"</div><span>"+t+"</span></div>",this.maxOpened&&this.toasts.length>=this.maxOpened&&this.remove(this.toasts[0].id),this.toasts.push(e),this.$jquery(e.code).appendTo("notification-box"),"tweet"==s&&(this.$jquery("#toast-"+e.id).addClass("tweet"),this.$jquery("#toast-"+e.id+" .toast-title").html('<i class="fab fa-twitter"></i> '+i+"</div>")),"shot"==s&&(this.$jquery("#toast-"+e.id).addClass("lspd"),this.$jquery("#toast-"+e.id+" .toast-title").html('<i class="fas fa-flag"></i> '+i+"</div>")),"injury"==s&&(this.$jquery("#toast-"+e.id).addClass("lspd"),this.$jquery("#toast-"+e.id+" .toast-title").html('<i class="fas fa-medkit"></i> '+i+"</div>")),"alarm"==s&&(this.$jquery("#toast-"+e.id).addClass("lspd"),this.$jquery("#toast-"+e.id+" .toast-title").html('<i class="fas fa-exclamation-triangle"></i> '+i+"</div>")),"drugs"==s&&(this.$jquery("#toast-"+e.id).addClass("lspd"),this.$jquery("#toast-"+e.id).addClass("drugs"),this.$jquery("#toast-"+e.id+" .toast-title").html('<i class="fas fa-cannabis"></i> '+i+"</div>")),"kaseta"==s&&(this.$jquery("#toast-"+e.id).addClass("lspd"),this.$jquery("#toast-"+e.id+" .toast-title").html('<i class="fas fa-exclamation-triangle"></i> '+i+"</div>")),this.$jquery("#toast-"+e.id).addClass("toast-enter");var a=this;setTimeout((function(){a.$jquery("#toast-"+e.id).removeClass("toast-enter"),a.remove(e.id)}),5e3)}},unmounted(){window.removeEventListener("message",this.messageListener)}};var l=i(1639),u=i(2500),c=i(2133),p=i(9984),m=i.n(p);const f=(0,l.Z)(h,[["render",d]]),g=f;m()(h,"components",{QLayout:u.Z,QPageContainer:c.Z})}}]);